{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nconst Library = () => {\n  const [libraryData, setLibraryData] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchLibraryData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get('http://localhost:5000/api/spotify/library', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setLibraryData(response.data);\n      } catch (error) {\n        console.error('Error fetching library data:', error);\n        setError('Failed to fetch library data. Please try again.');\n      }\n    };\n    fetchLibraryData();\n  }, []);\n  if (error) {\n    return React.createElement('div', null, error);\n  }\n  if (!libraryData) {\n    return React.createElement('div', null, 'Loading...');\n  }\n  const renderTracks = () => {\n    return React.createElement('div', null, React.createElement('h2', null, 'Tracks'), React.createElement('ul', null, libraryData.tracks.map(track => React.createElement('li', {\n      key: track.track.id\n    }, track.track.name))));\n  };\n  const renderAlbums = () => {\n    return React.createElement('div', null, React.createElement('h2', null, 'Albums'), React.createElement('ul', null, libraryData.albums.map(album => React.createElement('li', {\n      key: album.album.id\n    }, album.album.name))));\n  };\n  const renderPlaylists = () => {\n    return React.createElement('div', null, React.createElement('h2', null, 'Playlists'), React.createElement('ul', null, libraryData.playlists.map(playlist => React.createElement('li', {\n      key: playlist.id\n    }, playlist.name))));\n  };\n  return React.createElement('div', null, React.createElement('h1', null, 'Your Library'), renderTracks(), renderAlbums(), renderPlaylists());\n};\nexport default Library;","map":{"version":3,"names":["React","useEffect","useState","axios","Library","libraryData","setLibraryData","error","setError","fetchLibraryData","token","localStorage","getItem","response","get","headers","Authorization","data","console","createElement","renderTracks","tracks","map","track","key","id","name","renderAlbums","albums","album","renderPlaylists","playlists","playlist"],"sources":["C:/Users/Admin/Music Website/Front end/src/screens/library/library.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Library = () => {\r\n  const [libraryData, setLibraryData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchLibraryData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await axios.get('http://localhost:5000/api/spotify/library', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setLibraryData(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching library data:', error);\r\n        setError('Failed to fetch library data. Please try again.');\r\n      }\r\n    };\r\n\r\n    fetchLibraryData();\r\n  }, []);\r\n\r\n  if (error) {\r\n    return React.createElement('div', null, error);\r\n  }\r\n\r\n  if (!libraryData) {\r\n    return React.createElement('div', null, 'Loading...');\r\n  }\r\n\r\n  const renderTracks = () => {\r\n    return React.createElement('div', null, \r\n      React.createElement('h2', null, 'Tracks'),\r\n      React.createElement('ul', null, \r\n        libraryData.tracks.map(track => \r\n          React.createElement('li', { key: track.track.id }, track.track.name)\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n  const renderAlbums = () => {\r\n    return React.createElement('div', null, \r\n      React.createElement('h2', null, 'Albums'),\r\n      React.createElement('ul', null, \r\n        libraryData.albums.map(album => \r\n          React.createElement('li', { key: album.album.id }, album.album.name)\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n  const renderPlaylists = () => {\r\n    return React.createElement('div', null, \r\n      React.createElement('h2', null, 'Playlists'),\r\n      React.createElement('ul', null, \r\n        libraryData.playlists.map(playlist => \r\n          React.createElement('li', { key: playlist.id }, playlist.name)\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n  return React.createElement('div', null, \r\n    React.createElement('h1', null, 'Your Library'),\r\n    renderTracks(),\r\n    renderAlbums(),\r\n    renderPlaylists()\r\n  );\r\n};\r\n\r\nexport default Library;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}