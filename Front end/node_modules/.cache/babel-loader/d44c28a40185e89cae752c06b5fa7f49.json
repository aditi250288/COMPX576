{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Music Website\\\\Front end\\\\src\\\\screens\\\\feed\\\\feed.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { useAudio } from '../../AudioContext';\nimport './feed.css';\nexport default function Feed() {\n  const [feedItems, setFeedItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const {\n    playSong: playAudio\n  } = useAudio();\n  useEffect(() => {\n    fetchFeedItems();\n  }, []);\n  const fetchFeedItems = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('http://localhost:3000/api/feed', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setFeedItems(response.data);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to fetch feed. Please try again later.');\n      setLoading(false);\n    }\n  };\n  const playSong = async id => {\n    try {\n      const response = await axios.get(`http://localhost:3000/api/songs/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      playAudio(response.data);\n      navigate('/player', {\n        state: {\n          song: response.data\n        }\n      });\n    } catch (error) {\n      console.error('Error playing song:', error);\n    }\n  };\n  const viewPlaylist = id => {\n    navigate(`/playlist/${id}`);\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  if (error) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, error);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feed-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Your Music Feed\"), feedItems.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"No items in your feed. Try following some artists or playlists!\") : /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"feed-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, feedItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.id,\n    className: \"feed-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.title,\n    className: \"feed-item-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feed-item-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, item.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, item.description), item.type === 'song' && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => playSong(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, \"Play\"), item.type === 'playlist' && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => viewPlaylist(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, \"View Playlist\"))))));\n}","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useAudio","Feed","feedItems","setFeedItems","loading","setLoading","error","setError","navigate","playSong","playAudio","fetchFeedItems","response","get","headers","localStorage","getItem","data","err","id","state","song","console","viewPlaylist","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","item","key","src","image","alt","title","description","type","onClick"],"sources":["C:/Users/Admin/Music Website/Front end/src/screens/feed/feed.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAudio } from '../../AudioContext';\r\nimport './feed.css';\r\n\r\nexport default function Feed() {\r\n  const [feedItems, setFeedItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { playSong: playAudio } = useAudio();\r\n\r\n  useEffect(() => {\r\n    fetchFeedItems();\r\n  }, []);\r\n\r\n  const fetchFeedItems = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get('http://localhost:3000/api/feed', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      setFeedItems(response.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError('Failed to fetch feed. Please try again later.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const playSong = async (id) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/api/songs/${id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      playAudio(response.data);\r\n      navigate('/player', { state: { song: response.data } });\r\n    } catch (error) {\r\n      console.error('Error playing song:', error);\r\n    }\r\n  };\r\n\r\n  const viewPlaylist = (id) => {\r\n    navigate(`/playlist/${id}`);\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\">Loading...</div>;\r\n  if (error) return <div className=\"error\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"feed-container\">\r\n      <h1>Your Music Feed</h1>\r\n      {feedItems.length === 0 ? (\r\n        <p>No items in your feed. Try following some artists or playlists!</p>\r\n      ) : (\r\n        <ul className=\"feed-list\">\r\n          {feedItems.map((item) => (\r\n            <li key={item.id} className=\"feed-item\">\r\n              <img src={item.image} alt={item.title} className=\"feed-item-image\" />\r\n              <div className=\"feed-item-content\">\r\n                <h3>{item.title}</h3>\r\n                <p>{item.description}</p>\r\n                {item.type === 'song' && (\r\n                  <button onClick={() => playSong(item.id)}>Play</button>\r\n                )}\r\n                {item.type === 'playlist' && (\r\n                  <button onClick={() => viewPlaylist(item.id)}>View Playlist</button>\r\n                )}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}