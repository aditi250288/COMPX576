{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Music Website\\\\Front end\\\\src\\\\screens\\\\library\\\\library.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\n// Create an axios instance with a base URL\nconst axiosInstance = axios.create({\n  baseURL: 'http://localhost:5000/api'\n});\nconst Library = () => {\n  const [libraryData, setLibraryData] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchLibraryData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axiosInstance.get('/spotify/library', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setLibraryData(response.data);\n      } catch (error) {\n        console.error('Error fetching library data:', error);\n        setError('Failed to fetch library data. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLibraryData();\n  }, []);\n  const renderTracks = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Tracks\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, libraryData.tracks.map(track => /*#__PURE__*/React.createElement(\"li\", {\n    key: track.track.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, track.track.name))));\n  const renderAlbums = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Albums\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, libraryData.albums.map(album => /*#__PURE__*/React.createElement(\"li\", {\n    key: album.album.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, album.album.name))));\n  const renderPlaylists = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Playlists\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, libraryData.playlists.map(playlist => /*#__PURE__*/React.createElement(\"li\", {\n    key: playlist.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, playlist.name))));\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 12\n      }\n    }, \"Loading...\"); // Add a spinner or loader component here if needed\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, error), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setLoading(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, \"Retry\"));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Your Library\"), renderTracks(), renderAlbums(), renderPlaylists());\n};\nexport default Library;","map":{"version":3,"names":["React","useEffect","useState","axios","axiosInstance","create","baseURL","Library","libraryData","setLibraryData","error","setError","loading","setLoading","fetchLibraryData","token","localStorage","getItem","response","get","headers","Authorization","data","console","renderTracks","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","tracks","map","track","key","id","name","renderAlbums","albums","album","renderPlaylists","playlists","playlist","onClick"],"sources":["C:/Users/Admin/Music Website/Front end/src/screens/library/library.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Create an axios instance with a base URL\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n});\r\n\r\nconst Library = () => {\r\n  const [libraryData, setLibraryData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchLibraryData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await axiosInstance.get('/spotify/library', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setLibraryData(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching library data:', error);\r\n        setError('Failed to fetch library data. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLibraryData();\r\n  }, []);\r\n\r\n  const renderTracks = () => (\r\n    <div>\r\n      <h2>Tracks</h2>\r\n      <ul>\r\n        {libraryData.tracks.map(track => (\r\n          <li key={track.track.id}>{track.track.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  const renderAlbums = () => (\r\n    <div>\r\n      <h2>Albums</h2>\r\n      <ul>\r\n        {libraryData.albums.map(album => (\r\n          <li key={album.album.id}>{album.album.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  const renderPlaylists = () => (\r\n    <div>\r\n      <h2>Playlists</h2>\r\n      <ul>\r\n        {libraryData.playlists.map(playlist => (\r\n          <li key={playlist.id}>{playlist.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>; // Add a spinner or loader component here if needed\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div>\r\n        <p>{error}</p>\r\n        <button onClick={() => setLoading(true)}>Retry</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Your Library</h1>\r\n      {renderTracks()}\r\n      {renderAlbums()}\r\n      {renderPlaylists()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Library;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}