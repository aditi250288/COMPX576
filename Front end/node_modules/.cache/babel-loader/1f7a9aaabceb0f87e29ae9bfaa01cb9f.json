{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Music Website\\\\Front end\\\\src\\\\screens\\\\library\\\\library.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nconst axiosInstance = axios.create({\n  baseURL: 'https://api.spotify.com/v1/'\n});\nconst Library = () => {\n  const [libraryData, setLibraryData] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const fetchLibraryData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      const response = await axiosInstance.get('/spotify/library', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setLibraryData(response.data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error fetching library data:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'Failed to fetch library data. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchLibraryData();\n  }, []);\n  const renderTracks = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Tracks\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, libraryData.tracks.map(track => /*#__PURE__*/React.createElement(\"li\", {\n    key: track.track.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, track.track.name))));\n  const renderAlbums = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Albums\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, libraryData.albums.map(album => /*#__PURE__*/React.createElement(\"li\", {\n    key: album.album.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, album.album.name))));\n  const renderPlaylists = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Playlists\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, libraryData.playlists.map(playlist => /*#__PURE__*/React.createElement(\"li\", {\n    key: playlist.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, playlist.name))));\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, error), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: fetchLibraryData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"Retry\"));\n  }\n  if (!libraryData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 12\n      }\n    }, \"No library data available.\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Your Library\"), libraryData.tracks && renderTracks(), libraryData.albums && renderAlbums(), libraryData.playlists && renderPlaylists());\n};\nexport default Library;","map":{"version":3,"names":["React","useEffect","useState","axios","axiosInstance","create","baseURL","Library","libraryData","setLibraryData","error","setError","loading","setLoading","fetchLibraryData","token","localStorage","getItem","Error","response","get","headers","Authorization","data","_error$response","_error$response$data","console","message","renderTracks","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","tracks","map","track","key","id","name","renderAlbums","albums","album","renderPlaylists","playlists","playlist","onClick"],"sources":["C:/Users/Admin/Music Website/Front end/src/screens/library/library.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'https://api.spotify.com/v1/',\r\n});\r\n\r\nconst Library = () => {\r\n  const [libraryData, setLibraryData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchLibraryData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        throw new Error('No authentication token found');\r\n      }\r\n      const response = await axiosInstance.get('/spotify/library', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setLibraryData(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching library data:', error);\r\n      setError(error.response?.data?.message || error.message || 'Failed to fetch library data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLibraryData();\r\n  }, []);\r\n\r\n  const renderTracks = () => (\r\n    <div>\r\n      <h2>Tracks</h2>\r\n      <ul>\r\n        {libraryData.tracks.map(track => (\r\n          <li key={track.track.id}>{track.track.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  const renderAlbums = () => (\r\n    <div>\r\n      <h2>Albums</h2>\r\n      <ul>\r\n        {libraryData.albums.map(album => (\r\n          <li key={album.album.id}>{album.album.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  const renderPlaylists = () => (\r\n    <div>\r\n      <h2>Playlists</h2>\r\n      <ul>\r\n        {libraryData.playlists.map(playlist => (\r\n          <li key={playlist.id}>{playlist.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div>\r\n        <p>{error}</p>\r\n        <button onClick={fetchLibraryData}>Retry</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!libraryData) {\r\n    return <div>No library data available.</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Your Library</h1>\r\n      {libraryData.tracks && renderTracks()}\r\n      {libraryData.albums && renderAlbums()}\r\n      {libraryData.playlists && renderPlaylists()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Library;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAM,CAAC;EACjCC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACpB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMY,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnCD,UAAU,CAAC,IAAI,CAAC;IAChBF,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAMI,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI,CAACF,KAAK,EAAE;QACV,MAAM,IAAIG,KAAK,CAAC,+BAA+B,CAAC;MAClD;MACA,MAAMC,QAAQ,GAAG,MAAMf,aAAa,CAACgB,GAAG,CAAC,kBAAkB,EAAE;QAC3DC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUP,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFN,cAAc,CAACU,QAAQ,CAACI,IAAI,CAAC;IAC/B,CAAC,CAAC,OAAOb,KAAK,EAAE;MAAA,IAAAc,eAAA,EAAAC,oBAAA;MACdC,OAAO,CAAChB,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDC,QAAQ,CAAC,EAAAa,eAAA,GAAAd,KAAK,CAACS,QAAQ,cAAAK,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBD,IAAI,cAAAE,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAIjB,KAAK,CAACiB,OAAO,IAAI,iDAAiD,CAAC;IAC/G,CAAC,SAAS;MACRd,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACda,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMc,YAAY,GAAGA,CAAA,kBACnB5B,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,QAAU,CAAC,eACfnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACG3B,WAAW,CAAC4B,MAAM,CAACC,GAAG,CAACC,KAAK,iBAC3BtC,KAAA,CAAA6B,aAAA;IAAIU,GAAG,EAAED,KAAK,CAACA,KAAK,CAACE,EAAG;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEG,KAAK,CAACA,KAAK,CAACG,IAAS,CAChD,CACC,CACD,CACN;EAED,MAAMC,YAAY,GAAGA,CAAA,kBACnB1C,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,QAAU,CAAC,eACfnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACG3B,WAAW,CAACmC,MAAM,CAACN,GAAG,CAACO,KAAK,iBAC3B5C,KAAA,CAAA6B,aAAA;IAAIU,GAAG,EAAEK,KAAK,CAACA,KAAK,CAACJ,EAAG;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAES,KAAK,CAACA,KAAK,CAACH,IAAS,CAChD,CACC,CACD,CACN;EAED,MAAMI,eAAe,GAAGA,CAAA,kBACtB7C,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,WAAa,CAAC,eAClBnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACG3B,WAAW,CAACsC,SAAS,CAACT,GAAG,CAACU,QAAQ,iBACjC/C,KAAA,CAAA6B,aAAA;IAAIU,GAAG,EAAEQ,QAAQ,CAACP,EAAG;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEY,QAAQ,CAACN,IAAS,CAC1C,CACC,CACD,CACN;EAED,IAAI7B,OAAO,EAAE;IACX,oBAAOZ,KAAA,CAAA6B,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAK,YAAe,CAAC;EAC9B;EAEA,IAAIzB,KAAK,EAAE;IACT,oBACEV,KAAA,CAAA6B,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACEnC,KAAA,CAAA6B,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAIzB,KAAS,CAAC,eACdV,KAAA,CAAA6B,aAAA;MAAQmB,OAAO,EAAElC,gBAAiB;MAAAgB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,OAAa,CAC7C,CAAC;EAEV;EAEA,IAAI,CAAC3B,WAAW,EAAE;IAChB,oBAAOR,KAAA,CAAA6B,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAK,4BAA+B,CAAC;EAC9C;EAEA,oBACEnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEnC,KAAA,CAAA6B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAgB,CAAC,EACpB3B,WAAW,CAAC4B,MAAM,IAAIR,YAAY,CAAC,CAAC,EACpCpB,WAAW,CAACmC,MAAM,IAAID,YAAY,CAAC,CAAC,EACpClC,WAAW,CAACsC,SAAS,IAAID,eAAe,CAAC,CACvC,CAAC;AAEV,CAAC;AAED,eAAetC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}